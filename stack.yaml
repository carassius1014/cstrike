resolver: lts-17.11

ghc-options:
  $targets: -O2
    -Wall
    -Wcompat
    -Werror
    -Wmissing-deriving-strategies
    -Wwarn=name-shadowing
    -rtsopts
    -threaded
    -with-rtsopts=-N

packages:
  - servant

extra-deps:
  - github: awakesecurity/grpc-haskell
    commit: 8525994a4fbb6768a2317d7e54fe594b8940b579
    subdirs:
      - . # package: grpc-haskell
      - core # package: grpc-haskell-core
  - github: awakesecurity/proto3-suite
    commit: 0af901f9ef3b9719e08eae4fab8fd700d6c8047a
  - github: awakesecurity/proto3-wire
    commit: d92ec32ef0f15842b07fb226d8f2d15f36c5fb20
  - github: carassius1014/praeludium
    commit: e51d8a74cb95496a6901688f0be397c9648d9177
    subdirs:
      - . # package: praeludium
      - optics # package: praeludium-optics

allow-newer: true

extra-include-dirs:
  - ~/.nix-profile/include

nix:
  enable: true
  add-gc-roots: true
  pure: false
  shell-file: stack.nix
